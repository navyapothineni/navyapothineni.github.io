<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Mac | Simple Problems]]></title>
  <link href="http://navyapothineni.github.io/blog/categories/mac/atom.xml" rel="self"/>
  <link href="http://navyapothineni.github.io/"/>
  <updated>2017-04-19T19:57:18-07:00</updated>
  <id>http://navyapothineni.github.io/</id>
  <author>
    <name><![CDATA[Navya Pothineni]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A Rogue Daemon]]></title>
    <link href="http://navyapothineni.github.io/blog/2017/04/19/a-rogue-daemon/"/>
    <updated>2017-04-19T17:35:25-07:00</updated>
    <id>http://navyapothineni.github.io/blog/2017/04/19/a-rogue-daemon</id>
    <content type="html"><![CDATA[<p>I work on a MacBook Pro (mid 2011) with a 500GB of Hard Disk space and 16GB of RAM. I have been putting off updating to SSD for a long time and I might get away with it for a few more months. But in the last week, after I have setup some local servers on my machine, my macbook was becoming noticeably strained. It complained about running out of HDD space and I tried to clear up some unused files and moved some files to an external drive. And I also had to update Java and install some new IDEs. After persistent performance issues (browser crashes and constant complaints about memory), I looked at the Activity Monitor.</p>

<p>A process named &ldquo;java&rdquo; kept showing up every minute or so. Hogging a mind blowing 80-130%CPU, 1-5GB RAM and 20% energy.</p>

<!-- more -->


<p>To debug this further, a wise thing to do would be to boot up in <code>Safe Mode</code> (Hold down the shift key during boot up). See if the issues persist, if they don&rsquo;t you can be sure that a third party application that isn&rsquo;t essential for the kernel is causing the trouble. You can also look at start up items, incompatible login items, it also disables certain extras like user installed fonts, deletes kernel, font and system caches, checks for startup disk issues, etc. If the issue persists however go back to the Activity Monitor.</p>

<p>AM allows you to see the parent PID and name by clicking on info. The parent process for me was <code>launchd</code>. A few searches on the internet led me to do the following. I installed Adobe PDF Reader because someone mentioned that that caused automatic updates and I wanted to eliminate all trivial problems. Next, I turned off java automatic updates on the Java Control Panel from System Settings. You can look for the parent process using java to find the arguments passed with <code>ps</code>.</p>

<pre><code>$ ps axv | grep java
</code></pre>

<p>It gave me a giant output that began like this.</p>

<pre><code>
2819 ??         0:17.00 /usr/bin/java -Xloggc:/usr/local/Cellar/cassandra/3.7/libexec/logs/gc.log -ea -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -XX:+HeapDumpOnOutOfMemoryError -Xss256k -XX:StringTableSize=1000003 -XX:+AlwaysPreTouch -XX:-UseBiasedLocking -XX:+UseTLAB -XX:+ResizeTLAB -XX:+PerfDisableSharedMem -Djava.net.preferIPv4Stack=true -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=1 -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSWaitDuration=10000
</code></pre>

<p>It was a daemon process that was starting Cassandra and creating tables similar to a stress daemon process. I had installed Cassandra a year ago out of curiosity. I still haven&rsquo;t figured what caused the sudden onset of the daemon process but I quickly uninstalled Cassandra and deleted data, properties and log dirs. This was also a helpful <a href="http://stackoverflow.com/questions/10877072/stop-cassandra-server-on-mac-os-x">Stackoverflow discussion</a>.</p>
]]></content>
  </entry>
  
</feed>
